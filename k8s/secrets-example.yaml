# ============================================================================
# Kubernetes Secrets and ConfigMap Examples
# ============================================================================
#
# IMPORTANT: DO NOT commit this file with real values to version control!
# This is a template showing how to create the required ConfigMap and Secrets.
#
# Quick setup commands:
#
# 1. Create SSH key secret from file:
#    kubectl create secret generic minecraft-dashboard-ssh-key \
#      --from-file=mc_dashboard_key=/path/to/your/ssh/key
#
# 2. Create environment secret:
#    kubectl create secret generic minecraft-dashboard-secret \
#      --from-literal=MC_RCON_PASSWORD='your_rcon_password_here'
#
# 3. Apply this file for the ConfigMap:
#    kubectl apply -f k8s/configmap.yaml
#
# ============================================================================

---
# ConfigMap for non-sensitive environment variables
apiVersion: v1
kind: ConfigMap
metadata:
  name: minecraft-dashboard-config
  labels:
    app: minecraft-dashboard
data:
  # Minecraft RCON Configuration
  MC_SERVER_HOST: "192.168.1.209"  # Replace with your Minecraft server IP
  MC_RCON_PORT: "25575"

  # Database Configuration
  DB_PATH: "data/minecraft_dashboard.db"

  # SSH Configuration
  SSH_HOST: "192.168.1.209"  # Replace with your SSH host
  SSH_PORT: "22"
  SSH_USER: "ubuntu"  # Replace with your SSH username
  SSH_KEY_PATH: "/home/appuser/.ssh/mc_dashboard_key"  # Don't change (container path)
  MC_SERVER_DIR: "/home/ubuntu/minecraft"  # Replace with your Minecraft server directory

---
# Secret for sensitive environment variables
# WARNING: Base64 encoding is NOT encryption! Kubernetes Secrets are only
# base64-encoded. Use sealed-secrets, external-secrets, or vault for production.
#
# To create this secret manually:
# kubectl create secret generic minecraft-dashboard-secret \
#   --from-literal=MC_RCON_PASSWORD='your_password_here'
#
apiVersion: v1
kind: Secret
metadata:
  name: minecraft-dashboard-secret
  labels:
    app: minecraft-dashboard
type: Opaque
data:
  # RCON password (base64 encoded)
  # Replace with: echo -n 'your_password_here' | base64
  MC_RCON_PASSWORD: Y2hhbmdlbWU=  # This is 'changeme' - REPLACE THIS!

---
# Secret for SSH private key
# DO NOT create this with YAML - use kubectl create secret from file!
#
# Create with:
# kubectl create secret generic minecraft-dashboard-ssh-key \
#   --from-file=mc_dashboard_key=/path/to/your/ssh/private/key
#
# Example (if your key is at ~/.ssh/mc_dashboard_key):
# kubectl create secret generic minecraft-dashboard-ssh-key \
#   --from-file=mc_dashboard_key=$HOME/.ssh/mc_dashboard_key
#
# Verify with:
# kubectl describe secret minecraft-dashboard-ssh-key
#
# apiVersion: v1
# kind: Secret
# metadata:
#   name: minecraft-dashboard-ssh-key
# type: Opaque
# data:
#   mc_dashboard_key: <base64-encoded-private-key>
